<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>NexMotion: User Manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="NexCOBOT_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NexMotion
   &#160;<span id="projectnumber">1.4.0</span>
   </div>
   <div id="projectbrief">Open Robots &amp; Machines [WIP]</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('UserManual.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">User Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ProgrammingPrinciples">1.Programming Principles</a><ul><li class="level2"><a href="#SystemOperations">1.1. System Operations</a><ul><li class="level3"><a href="#WatchDogTimer">1.1.4. Watch Dog Timer</a></li>
<li class="level3"><a href="#Debugging">1.1.5. Debugging</a><ul><li class="level4"><a href="#SystemMessage">1.1.5.1 System Message</a></li>
<li class="level4"><a href="#API_Trace">1.1.5.2 API Trace</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#IO_Control">1.2. I/O Control</a></li>
<li class="level2"><a href="#AxisControl">1.3. Axis Control</a><ul><li class="level3"><a href="#AxisUnitConfiguration">1.3.1 Axis Unit Configuration</a></li>
<li class="level3"><a href="#SoftwareLimitProtection">1.3.2 Software Limit Protection</a></li>
</ul>
</li>
<li class="level2"><a href="#GroupControl">1.4. Group Control</a><ul><li class="level3"><a href="#GroupCofiguration">1.4.1. Group Configuration</a></li>
<li class="level3"><a href="#CoordinateSystem">1.4.2 Coordinate System</a><ul><li class="level4"><a href="#BaseConfiguration">1.4.2.6 Base Configuration</a></li>
<li class="level4"><a href="#BaseCalibration">1.4.2.7 Base Calibration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#DeviceParameters">2. Device Parameters</a><ul><li class="level2"><a href="#SystemParameters">2.1. System Parameters</a></li>
<li class="level2"><a href="#AxisParameters">2.2. Axis Parameters</a></li>
<li class="level2"><a href="#GroupParameters">2.3. Group Parameters</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ProgrammingPrinciples"></a>
1.Programming Principles</h1>
<p>The basic development procedure of the NexMotion application is described as follows:</p>
<ol type="1">
<li>Plan the control system</li>
<li>Configure and test the controlled system with the NexMotion Studio</li>
<li>Generate the configuration file (NCF file) of the controlled system with the NexMotion Studio</li>
<li>Develop the control program</li>
<li>Compile and debug the control program</li>
<li>Test and fine tune the control program</li>
</ol>
<div class="image">
<img src="ControlSystemExample.png" alt="ControlSystemExample.png"/>
<div class="caption">
Control Syetem Example (Device + Controller Systems)</div></div>
<p>The first 3 steps aim to confirm the following items:</p><ol type="1">
<li>The installation and wiring of the controlled system, such as the installation of the servo motor, the operations of the I/O devices, etc., and</li>
<li>The axis control parameters controlled with the NexMotion Studio for the equipment operation. For example, a controlled system composed of a 6-axis articulated robot and a set of 2-axis XY table can be controlled with the NexMotion Studio not only to set the mechanism parameters, units, acceleration/deceleration, and other configurations, but also to perform the homing, point-to-point and other motions to check if the motion direction, unit moving distance, and others are in compliance with the system plan. Please refer to the <code>NexMotion Studio User Manual</code> for the usage of the NexMotion Studio.</li>
</ol>
<p>After the above steps are completed, the configuration files will be generated in the default system path ( <code>C:\\Nexcom\</code>). The files in the path shall not be modified to avoid any undesired system The 4th step, develop the control program , indicates the control program developments based on the library provided by the <code>NexMotion</code>. The program can issue commands to the device by calling APIs to complete each applications. The following sections will describe the library functionalities systematically, including:</p>
<ol type="1">
<li>System operations</li>
<li>I/O control,</li>
<li>Axis control, and</li>
<li>Group control.</li>
</ol>
<p>These classes of these APIs can be understood based on the naming rule of such APIs. For example: the APIs with the prefix <b>NMC_Device</b> are the System Operations class, the APIs with the prefix <b>NMC_Axis</b> are related to the Axis Control, the APIs with the prefix <b>NMC_Group</b> are related to the Group Control, and so on. Moreover, the extension applications can be developed by referring to the sample programs provided under the installation folder.</p>
<div class="image">
<img src="NexMotionStudioDevelopmentAndConfigurationTools.png" alt="NexMotionStudioDevelopmentAndConfigurationTools.png"/>
<div class="caption">
NexMotion Studio Development and Configuration Tools</div></div>
<h2><a class="anchor" id="SystemOperations"></a>
1.1. System Operations</h2>
<p>The section describes the following items:</p><ol type="1">
<li>System initialization,</li>
<li>Watch dog, and</li>
<li>Debugging.</li>
</ol>
<h3>1.1.1. System Initialization</h3>
<p>The system initialization shall be performed before starting to use the NexMotion Library, the simplest way is to call the function <a class="el" href="group___device___open___shutdown.html#ga3c6842a9a7feb15f1a4a38193afbd390">NMC_DeviceOpenUp()</a>. A device identification (ID) will be returned after the successful initialization, and it be used to control the device. A C sample program shows the system open up and shut down as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_8h.html">NexMotion.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_error_8h.html">NexMotionError.h</a>&quot;</span></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{</div><div class="line">    <a class="code" href="nex__type_8h.html#acbde565254657d16523ae08fccf48f88">RTN_ERR</a> ret;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devType = <a class="code" href="group___device___type.html#gad29294f3919a0163020d3c5b1af370c5">NMC_DEVICE_TYPE_ETHERCAT</a>;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devIndex = 0;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devID;</div><div class="line">    ret = <a class="code" href="group___device___open___shutdown.html#ga3c6842a9a7feb15f1a4a38193afbd390">NMC_DeviceOpenUp</a>( devType, devIndex, &amp;devID );</div><div class="line">    <span class="keywordflow">if</span> ( ret != <a class="code" href="group___error__code.html#ga88cc0e6f200d96ac4203f4a84a980a07">ERR_NEXMOTION_SUCCESS</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling...</span></div><div class="line">    }</div><div class="line">    <span class="comment">// Device is start up successfully.</span></div><div class="line">    <span class="comment">// Do Something</span></div><div class="line">    <span class="comment">// Support to write codes for control</span></div><div class="line">    <a class="code" href="group___device___open___shutdown.html#ga79663eed7b6513d4b9bb04e9438e8954">NMC_DeviceShutdown</a>( devID );</div><div class="line">    <span class="keywordflow">return</span> 0</div><div class="line">}</div></div><!-- fragment --><p><a class="el" href="group___device___open___shutdown.html#ga3c6842a9a7feb15f1a4a38193afbd390">NMC_DeviceOpenUp()</a> is a <code>blocked</code> function. It will perform the system initialization processes, including:</p>
<ol type="1">
<li>Establish a device , and generate the device identification (ID),</li>
<li>Load the configuration file (NCF file), and</li>
<li>Open up the device communication.</li>
</ol>
<p>The above processes may cost several seconds. After the function returns successfully, the following processes can send commands to the axes or groups. In addition, the Library also supports a non blocked function, <a class="el" href="group___device___open___shutdown.html#ga3d3071eb82eb139430ad900fc1f7c0fc">NMC_DeviceOpenUpRequest()</a>. The function can return immediately after called. The device can also receive the same commands and perform the above open up processes. After completing these processes, the <a class="el" href="group___device___state.html">device state</a> will transfer to <b>OPERATION</b> , and <a class="el" href="group___advanced___device___open___shutdown.html#ga45b65e1cb69dec4915a18cb1451c8bb4">NMC_DeviceGetState()</a> can be used to check the state by polling or <a class="el" href="group___device___open___shutdown.html#ga72532fcb38ed802e73c0f9516dbf3083">NMC_DeviceWaitOpenUpRequest()</a> can be used to wait for the open up completion.</p>
<h3>1.1.2. Device Shutdown</h3>
<p><a class="el" href="group___device___open___shutdown.html#ga79663eed7b6513d4b9bb04e9438e8954">NMC_DeviceShutdown()</a> can be used to shut down the device . After the function is called, the device will close communications immediately, so that users shall pay attention to the shutdown process . For example, users can call <a class="el" href="group___device___open___shutdown.html#ga79663eed7b6513d4b9bb04e9438e8954">NMC_DeviceShutdown()</a> to shut down the device completely after confirming all device motions are stopped.</p>
<h3>1.1.3. Advanced System Initialization</h3>
<p>The aforementioned procedure is easy and quick for the general initialization. However, some parameters may be configured before the system opens up. The system initialization can be achieved by separating the procedure as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_8h.html">NexMotion.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_error_8h.html">NexMotionError.h</a>&quot;</span></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{</div><div class="line">    <a class="code" href="nex__type_8h.html#acbde565254657d16523ae08fccf48f88">RTN_ERR</a> ret;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devType = <a class="code" href="group___device___type.html#gad29294f3919a0163020d3c5b1af370c5">NMC_DEVICE_TYPE_ETHERCAT</a>;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devIndex = 0;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devID;</div><div class="line">    ret = <a class="code" href="group___advanced___device___open___shutdown.html#ga071f0b8426ef31fb186b4a8ff8a6ddc8">NMC_DeviceCreate</a>( devType, devIndex, &amp;devID );</div><div class="line">    <span class="keywordflow">if</span> ( ret != <a class="code" href="group___error__code.html#ga88cc0e6f200d96ac4203f4a84a980a07">ERR_NEXMOTION_SUCCESS</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling</span></div><div class="line">    }</div><div class="line"></div><div class="line">    ret = <a class="code" href="group___advanced___device___open___shutdown.html#ga002acbfd84abedf80bd9ce437c476665">NMC_DeviceLoadIniConfig</a>( devID );</div><div class="line">    <span class="keywordflow">if</span> ( ret != <a class="code" href="group___error__code.html#ga88cc0e6f200d96ac4203f4a84a980a07">ERR_NEXMOTION_SUCCESS</a> )</div><div class="line">    {</div><div class="line">        <span class="comment">// Error</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Do something here...</span></div><div class="line">    <span class="comment">// Parameter</span></div><div class="line"></div><div class="line">    ret = <a class="code" href="group___advanced___device___open___shutdown.html#ga9993d2d70df12e9f69b54689c58e0704">NMC_DeviceStart</a>( devID );</div><div class="line">    <span class="keywordflow">if</span> ( ret != <a class="code" href="group___error__code.html#ga88cc0e6f200d96ac4203f4a84a980a07">ERR_NEXMOTION_SUCCESS</a>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error</span></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Device is start up successfully.</span></div><div class="line">    <span class="comment">// Do something...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <a class="code" href="group___device___open___shutdown.html#ga79663eed7b6513d4b9bb04e9438e8954">NMC_DeviceShutdown</a>( devID );</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>The separation initialization procedure shall call the 3 APIs in order:</p><ol type="1">
<li><a class="el" href="group___advanced___device___open___shutdown.html#ga071f0b8426ef31fb186b4a8ff8a6ddc8">NMC_DeviceCreate()</a></li>
<li><a class="el" href="group___advanced___device___open___shutdown.html#ga002acbfd84abedf80bd9ce437c476665">NMC_DeviceLoadIniConfig()</a></li>
<li><a class="el" href="group___advanced___device___open___shutdown.html#ga9993d2d70df12e9f69b54689c58e0704">NMC_DeviceStart()</a></li>
</ol>
<p>The purpose is transfer the <a class="el" href="group___device___state.html">device state</a> to <b>OPERATION</b>. The below figure shows the device state transitions and related functions.</p>
<div class="image">
<img src="DeviceStateTransitions.png" alt="DeviceStateTransitions.png"/>
<div class="caption">
Device State Transitions</div></div>
<p>The device states can be getting by function <a class="el" href="group___advanced___device___open___shutdown.html#ga45b65e1cb69dec4915a18cb1451c8bb4">NMC_DeviceGetState()</a></p>
<h3><a class="anchor" id="WatchDogTimer"></a>
1.1.4. Watch Dog Timer</h3>
<p>The watch dog timer is a dedicated timer of the device. After the timer starts, the application shall reset the value of timer within a specific period. Otherwise, if the timer reaches the configured time, the device will perform the corresponding actions for system shutdown automatically. The function is a protective measure to avoid the application crash or the system failure due to other programs. In case of the system failure, the device will enable the shutdown process because the timer is timeout when application cannot be reset and.</p>
<p>If the timer is enabled during the debugging phase of development stage, the debug process may interrupt the program. Some undesired ( cases may occurred since the timer is timeout and the system is shut down. Therefore, it is recommended to disable the function at the development stage and enable the function after the development completion f or additional protection. Generally, the watch dog timer is used by enabling a system timer interrupt or creating an independent thread. <a class="el" href="group___watch___dog___functions.html#gaad2d8e92e58f63628199c5ac3a4d1124">NMC_DeviceWatchdogTimerEnable()</a> is used to enable the watch dog timer , and <a class="el" href="group___watch___dog___functions.html#ga4d3abcb975ed2e420cc792883655786e">NMC_DeviceWatchdogTimerReset()</a> is used to reset such timer. The reset may be two times or more as frequent as the configured time. <a class="el" href="group___watch___dog___functions.html#gafb3cab3548ed617e7fcd25e083aaf385">NMC_DeviceWatchdogTimerDisable()</a> is used to disable the timer.</p>
<p>An example is shown as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_8h.html">NexMotion.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_error_8h.html">NexMotionError.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;Windows.h&gt;</span></div><div class="line"></div><div class="line"><a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> gThreadCtrl = 1;</div><div class="line"></div><div class="line">DWORD WINAPI WatchDogTimerResetThread(_In_ LPVOID lpParameter )</div><div class="line">{</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devId = *(<a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> *)lpParameter;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> timeoutMs = 1000;</div><div class="line">    DWORD sleepMs = timeoutMs / 2;</div><div class="line">    <a class="code" href="group___watch___dog___functions.html#gaad2d8e92e58f63628199c5ac3a4d1124">NMC_DeviceWatchdogTimerEnable</a>( devId, timeoutMs, 0);</div><div class="line">    <span class="keywordflow">while</span> ( gThreadCtrl == 1)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___watch___dog___functions.html#ga4d3abcb975ed2e420cc792883655786e">NMC_DeviceWatchdogTimerReset</a>( devId );</div><div class="line">        Sleep( sleepMs );</div><div class="line">    }</div><div class="line">    <a class="code" href="group___watch___dog___functions.html#gafb3cab3548ed617e7fcd25e083aaf385">NMC_DeviceWatchdogTimerDisable</a>( devId );</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{</div><div class="line">    <a class="code" href="nex__type_8h.html#acbde565254657d16523ae08fccf48f88">RTN_ERR</a> ret;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devType = <a class="code" href="group___device___type.html#gad29294f3919a0163020d3c5b1af370c5">NMC_DEVICE_TYPE_ETHERCAT</a>;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devIndex = 0;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devID;</div><div class="line">    HANDLE threadHandle;</div><div class="line">    ret = <a class="code" href="group___device___open___shutdown.html#ga3c6842a9a7feb15f1a4a38193afbd390">NMC_DeviceOpenUp</a>( devType, devIndex, &amp;devID );</div><div class="line">    <span class="keywordflow">if</span> ( ret != <a class="code" href="group___error__code.html#ga88cc0e6f200d96ac4203f4a84a980a07">ERR_NEXMOTION_SUCCESS</a> )</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling ...</span></div><div class="line">    }</div><div class="line">    threadHandle = CreateThread(NULL, 0, WatchDogTimerResetThread, &amp;devID, 0, NULL);</div><div class="line">    <span class="keywordflow">if</span> ( threadHandle == NULL)</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling ...</span></div><div class="line">    }</div><div class="line">    <span class="comment">// Device is start up successfully.</span></div><div class="line">    <span class="comment">// Do something ...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// Try to stop WDT thread</span></div><div class="line">    gThreadCtrl = 0;</div><div class="line">    WaitForSingleObject( threadHandle, INFINITE );</div><div class="line"></div><div class="line">    <a class="code" href="group___device___open___shutdown.html#ga79663eed7b6513d4b9bb04e9438e8954">NMC_DeviceShutdown</a>( devID );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><h3><a class="anchor" id="Debugging"></a>
1.1.5. Debugging</h3>
<p>To assist developers to debug the application, there are two measures, system messages and API trace.</p>
<h4><a class="anchor" id="SystemMessage"></a>
1.1.5.1 System Message</h4>
<p>The system messages will be issued by the device during the operating and stored in the message queue. <a class="el" href="group___system___information.html#ga35196b03134967933e107c259a816175">NMC_MessagePopFirst()</a> can be used to get and remove the system messages from the message queue. To facilitate the debugging, <a class="el" href="group___system___information.html#gaf7ff15c41c5bdb083d4541f023bd9118">NMC_MessageOutputEnable()</a> can be used to copy the message and to transfer it to the MS Windows system message (OutputDebugString). Developers can download the tool, DebugView, to get the MS Windows system message from the website: <a href="https://docs.microsoft.com/zh-tw/sysinternals/downloads/debugview">https://docs.microsoft.com/zh-tw/sysinternals/downloads/debugview</a>.</p>
<div class="image">
<img src="DebugView.png" alt="DebugView.png"/>
<div class="caption">
Debug View</div></div>
<h4><a class="anchor" id="API_Trace"></a>
1.1.5.2 API Trace</h4>
<p>The API Trace can trace the calling of NexMotion Library by applications. <a class="el" href="group___debug___trace.html#ga8f76eb939dc8d3a063a8c615843afcad">NMC_DebugSetTraceMode()</a> can used to enable the API Trace. The called function name, input parameters and return values can be output to MS Windows system message (OutputDebugString) in accordance with the configured Trace mode. Developer can observe the calling of NexMotion with the software, DebugView.</p>
<p>Moreover, a hook function (or a callback function) can be used to hook the self-defined function into the NexMotion functions. <a class="el" href="group___debug___trace.html#gacdff1362f78680c361c52761b3eaa4a4">NMC_DebugSetHookFunction()</a> can register the self-defined function into the system, and the NexMotion APIs will call the hook function before returning.</p>
<p>The registered hook function is global, and all called NexMotion APIs will call the same hook function. <a class="el" href="group___debug___trace.html#gaa0601d6ab0cd20e8b26eb513e29c5412">NMC_DebugGetApiAddress()</a> can be used to inquiry the names of called APIs.</p>
<p>An example is shown as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_8h.html">NexMotion.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_nex_motion_error_8h.html">NexMotionError.h</a>&quot;</span> </div><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> MyHookFunction(</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">void</span>  *PFuncAddress <span class="comment">// [i] Function name call this hook function.</span></div><div class="line">    ,<span class="keyword">const</span> <span class="keywordtype">char</span> *PFuncName <span class="comment">// [i] Pass API Name to hook function.</span></div><div class="line">    ,<a class="code" href="nex__type_8h.html#acbde565254657d16523ae08fccf48f88">RTN_ERR</a>    ReturnCode <span class="comment">// [i] function return call</span></div><div class="line">    ,<span class="keywordtype">void</span>       *PUserData <span class="comment">// [i] User data.</span></div><div class="line">) </div><div class="line">{</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">void</span> *pFunAddr = <a class="code" href="group___debug___trace.html#gaa0601d6ab0cd20e8b26eb513e29c5412">NMC_DebugGetApiAddress</a>( <span class="stringliteral">&quot;NMC_DeviceOpenUp&quot;</span> );</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> *pCounter = (<a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> *)PUserData;</div><div class="line">    <span class="keywordflow">if</span>( PFuncAddress == pFunAddr ) </div><div class="line">    {</div><div class="line">        (*pCounter)++;</div><div class="line">        printf( <span class="stringliteral">&quot; NMC_DeviceOpenUp is called %d times \n&quot;</span>, *pCounter );</div><div class="line">    }</div><div class="line">    printf( <span class="stringliteral">&quot;Hook: %s is called.\n&quot;</span>, PFuncName );</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() </div><div class="line">{</div><div class="line">    <a class="code" href="nex__type_8h.html#acbde565254657d16523ae08fccf48f88">RTN_ERR</a> ret;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devType = <a class="code" href="group___device___type.html#gad29294f3919a0163020d3c5b1af370c5">NMC_DEVICE_TYPE_ETHERCAT</a>;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devIndex = 0;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> devID;</div><div class="line">    <a class="code" href="nex__type_8h.html#ad142680a6eacc0c8ff2d93192e7e45ef">I32_T</a> counter = 0;</div><div class="line"></div><div class="line">    <span class="comment">// Set Hook function</span></div><div class="line">    <a class="code" href="group___debug___trace.html#gac8e5b49d59201776e2aedb8ad73bb5d6">NMC_DebugSetHookData</a>( &amp;counter );</div><div class="line">    <a class="code" href="group___debug___trace.html#gacdff1362f78680c361c52761b3eaa4a4">NMC_DebugSetHookFunction</a>( MyHookFunction );</div><div class="line"></div><div class="line">    ret = <a class="code" href="group___device___open___shutdown.html#ga3c6842a9a7feb15f1a4a38193afbd390">NMC_DeviceOpenUp</a>( devType, devIndex, &amp;devID );</div><div class="line">    <span class="keywordflow">if</span>( ret != <a class="code" href="group___error__code.html#ga88cc0e6f200d96ac4203f4a84a980a07">ERR_NEXMOTION_SUCCESS</a> )</div><div class="line">    {</div><div class="line">        <span class="comment">// Error handling...</span></div><div class="line">    }</div><div class="line">    <span class="comment">// Device is start up successfully. // Do something...</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// Disable hook function</span></div><div class="line">    <a class="code" href="group___debug___trace.html#gacdff1362f78680c361c52761b3eaa4a4">NMC_DebugSetHookFunction</a>( 0 );</div><div class="line">    <a class="code" href="group___debug___trace.html#gac8e5b49d59201776e2aedb8ad73bb5d6">NMC_DebugSetHookData</a>( 0 );</div><div class="line"></div><div class="line">    <a class="code" href="group___device___open___shutdown.html#ga79663eed7b6513d4b9bb04e9438e8954">NMC_DeviceShutdown</a>( devID );</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0; </div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="IO_Control"></a>
1.2. I/O Control</h2>
<p>NexMotion provides flexible and high velocity I/O control as the memory access. Developers shall map the memory address of I/O devices onto the virtual memory with NexMotion Studio, and then they can control or get/set the I/O devices by accessing the memory. Please refer to the NexMotion Studio user manual for the configurations.</p>
<div class="image">
<img src="IO_MemoryMapping.png" alt="IO_MemoryMapping.png"/>
<div class="caption">
I/O Memory Mapping</div></div>
<div class="image">
<img src="IO_MemorySettingScreen.png" alt="IO_MemorySettingScreen.png"/>
<div class="caption">
NexMotion Studio I/O Memory setting screen</div></div>
<p>After configurations, the following functions can be used to access or control the I/O devices:</p><ol type="1">
<li><a class="el" href="group___i_o___control___functions.html#gae5b6b4eacce3853e11bf3c38214aae04">NMC_ReadInputMemory()</a></li>
<li><a class="el" href="group___i_o___control___functions.html#gaf8f63ce91dedee0814ba66dc70719258">NMC_ReadOutputMemory()</a>, and</li>
<li><a class="el" href="group___i_o___control___functions.html#gafe026a8235ec3ec815f9af3a3d61f956">NMC_WriteOutputMemory()</a></li>
</ol>
<p>Note: The update rate of I/O memory is once per 10 ms (100Hz). Therefore, the functions may not support responses immediately if the frequency of digital output calling is higher than 100Hz.</p>
<h2><a class="anchor" id="AxisControl"></a>
1.3. Axis Control</h2>
<p>Different from the group axis for coordination operations in the mechanism, the single axis described in the section is independent for the corresponding to the mechanical structure. Functionally, the contents of this section are mainly divided into three major parts. The first part is the axis configurations, including the unit and the software limit protection configurations. The second part is the motion control functions, including excitation, point-to-point motion JOG motion , stop motion and the change on fly function. Finally, the third part mainly focuses on reading the information related to the axis motion, including reading the current status and motion information of axis.</p>
<h3><a class="anchor" id="AxisUnitConfiguration"></a>
1.3.1 Axis Unit Configuration</h3>
<p>The required parameters set with the APIs for the axis motion, such as the position of point-to-point motion or the velocity of the JOG motion. These motions are operating on these units defined by users (user unit). To establish the relationships between these user units and the command counts actually set to the device, users shall set the related unit parameters first. The <a class="el" href="UserManual.html#AxisParameters">axis parameters</a> related to unit configurations are listed in the below table:</p>
<table class="doxtable">
<tr>
<th>Param. Num </th><th align="center">Sub Index </th><th align="center">Description </th><th align="center">Remark  </th></tr>
<tr>
<td>0x00 </td><td align="center">0 </td><td align="center">Mechanical pitch (unit/rev) </td><td align="center">(*1) </td></tr>
<tr>
<td>0x01 </td><td align="center">0 </td><td align="center">Mechanical revolution </td><td align="center">(*1) </td></tr>
<tr>
<td>0x02 </td><td align="center">0 </td><td align="center">Motor revolution </td><td align="center">(*1) </td></tr>
<tr>
<td>0x03 </td><td align="center">0 </td><td align="center">Encoder resolution (pulse/rev) </td><td align="center">(*1) </td></tr>
</table>
<p>(*1) The parameter cannot be modified after the system is enabled.</p>
<ul>
<li>0x00: Mechanical pitch (user unit/rev)</li>
</ul>
<p>The parameter mainly describes the user unit required for a mechanism revolution.</p>
<ul>
<li>0x01: Mechanical revolution</li>
<li>0x02: Motor revolution</li>
</ul>
<p>The two parameters must be set coordinately. They are used to describe the gear ratio relationship between the motor and the mechanism. For a rotating mechanism, there is usually a velocity reducer between the motor and the mechanism. Assume that the gear ratio of the velocity reducer is 80. It means that the motor rotates 80 revolutions while the mechanism rotates one revolution. Therefore, the 0x01 shall be set to 1 and the 0x02 shall be set to 80. For the linear mechanism with the lead screw, if there is only a coupling between the motor and the mechanism and there is no velocity reduction mechanism between them, the 0x01 and 0x02 shall be set to 1. However, if there is a velocity reduction mechanism between the motor and the mechanism, the 0x01 and 0x02 must be set in accordance with the gear ratio of the velocity reduction mechanism.</p>
<ul>
<li>0x03: Encoder resolution (pulse/rev)</li>
</ul>
<p>The parameter is mainly used to set the revolution of encoder. It represents how many pulse counts the encoder will return for a revolution of motor. For an encoder with a 20-bit resolution, the parameter shall be set to 1,048,576 because of $2^{20}$.</p>
<p>The unit conversion formula is as follows: $$ 1\ User\ unit\ =\ EncoderResolution  {Motor\ revolution}{Mechanical\ revolution}  Pitch\ (Pulse) $$</p>
<p>Unit configuration example 1: A disk mechanism</p>
<div class="image">
<img src="RotaryMechanism.png" alt="RotaryMechanism.png"/>
<div class="caption">
A Rotary Motor, a Velocity Reducer and a Rotary Mechanism</div></div>
 <dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>update content of chapter 1.3.1.</dd></dl>
<h3><a class="anchor" id="SoftwareLimitProtection"></a>
1.3.2 Software Limit Protection</h3>
<p>In an actual mechanism, there is often the travel limitation for an axis. Also, there are the position limit with positive/negative direction, the maximum allowable velocity and the maximum allowable acceleration in the axis parameters because of maximum output tongue and velocity limits for a motor. The motion control unit provides the software protection mechanism to ensure the mechanism is operating under conditions of the allowed limits during the axis is in motion. If the software limit protection is enabled, the motion parameters will be checked when an axis motion function is called. If the set limit conditions are not met, the function will return the corresponding error code. When a group is in motion, the device will stop if there is an axis exceeding the set limit protection. These parameters related to the limit protection are described as followed:</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000023">Todo:</a></b></dt><dd>update content of chapter 1.3.2.</dd></dl>
<h2><a class="anchor" id="GroupControl"></a>
1.4. Group Control</h2>
<p>NexMotion can define some axes as a group. A group represents a mechanism or a robot with a specified structural relationship. Now, NexMotion can support these industrial robots as follows:</p>
<div class="image">
<img src="IndustrialRobotTypes.png" alt="IndustrialRobotTypes.png"/>
<div class="caption">
Industrial Robot Types</div></div>
<h3><a class="anchor" id="GroupCofiguration"></a>
1.4.1. Group Configuration</h3>
<p>The mechanism configuration file can be imported with the NexMotion Studio through the steps as follows:</p>
<ol type="1">
<li>Import a Mechanical Description ( NMD ) file with the NexMotion Studio.</li>
<li>Map the servo motor to each axis in the group.</li>
<li>Test the group and at the same time the configuration file of the controlled system (NCF file) will be generated. Please refer to the user manual of the NexMotion Studio for the detail procedure.</li>
</ol>
<p>A group can also be defined by manual. First, a similar mechanism configuration profile can be imported with NexMotion Studio as the template. Then the related configurations of the template can be adjust/modified to meet the actual mechanism through the steps as follows:</p>
<ol type="1">
<li>Import a Mechanical Description ( NMD ) file with the NexMotion Studio as a template.</li>
<li>Modify the unit parameters of each axis (Please refer to the unit configuration of axis.</li>
<li>Modify the parameters of mechanism kinematics (Please refer to the Mechanism Kinematics Configurations.</li>
<li>Map the servo motor to each axis in the group.</li>
<li>Test the group and generate the configuration file of the controlled system (NCF file).</li>
</ol>
<div class="image">
<img src="ImortRobotDataWithNMD.png" alt="ImortRobotDataWithNMD.png"/>
<div class="caption">
Import a Robot Data with a NMD file</div></div>
<h3><a class="anchor" id="CoordinateSystem"></a>
1.4.2 Coordinate System</h3>
<p>To control the position of each axis or each tool center point (TCP) in a group (or called a robot), NexMotion supports three coordinate systems to describe the position, including:</p>
<ol type="1">
<li>Axis Coordinate System (ACS),</li>
<li>Machine Coordinate System (MCS) or so called Geodetic Coordinate System, and</li>
<li>Product Coordinate System (PCS).</li>
</ol>
<p>These coordinate systems are shown as the below figure:</p>
<div class="image">
<img src="DefCoordinateSystem.png" alt="DefCoordinateSystem.png"/>
<div class="caption">
Definitions of ACS, MCS and PCS</div></div>
<p> NexMotion supports the built in unit conversion of these coordinate systems. Developers can define the conversions through the parameter configurations. The unit conversions of these coordinate systems are shown as the below figure.</p>
<div class="image">
<img src="UnitConversions.png" alt="UnitConversions.png"/>
<div class="caption">
Unit Conversions</div></div>
<p>The parameters related to the conversions are described in the following table:</p>
<table class="doxtable">
<tr>
<th align="center">Conversion Type </th><th align="center">Parameter Type </th><th>Description  </th></tr>
<tr>
<td align="center">Unit Conversion </td><td align="center">Group axis parameters 0x00~0x06 </td><td>Set the conversion between the pulse of servo and the physical unit of axis coordinate system (ACS) </td></tr>
<tr>
<td align="center">Mechanism kinematics conversion </td><td align="center"><a class="el" href="UserManual.html#GroupParameters">Group parameters</a> <br />
0x00 </td><td>Set the conversion between the axis coordinate system (ACS) and the machine coordinate system (MCS) </td></tr>
<tr>
<td align="center">Coordinate system conversion </td><td align="center"><a class="el" href="UserManual.html#GroupParameters">Group Parameters</a> 0xC0~DF </td><td>Set the conversion between the machine coordinate system (MCS) and the product coordinate system (PCS) </td></tr>
<tr>
<td align="center">TCP coordinate conversion </td><td align="center"><a class="el" href="UserManual.html#GroupParameters">Group Parameters</a> 0x80~8F </td><td>Set the conversion between the tool and the tool center point (TCP) </td></tr>
</table>
<p>NexMotion defines the data structure 「 <a class="el" href="struct_pos___t.html">Pos_T</a> 」 and 「 <a class="el" href="struct_xyz___t.html">Xyz_T</a> 」 to describe the coordinate information. The <a class="el" href="struct_pos___t.html" title="The general data types related to motion, which is defined in NexMotionDef.h. ">Pos_T</a> describes the coordinates of ACS, MCS and PCS, and the <a class="el" href="struct_xyz___t.html" title="The data types related to motion in Cartesian system, which is defined in NexMotionDef.h. ">Xyz_T</a> describes the positions at the x -, y- and z-axis of MCS and PCS.</p>
<h4><a class="anchor" id="BaseConfiguration"></a>
1.4.2.6 Base Configuration</h4>
<p>Setting Base is to define the PCS coordinate system. The advantage is that all target positions are relative to the reference coordinate system (Base). When the reference coordinate system change, only the reference coordinate system needs to be reset, then the target position can be used without teach again.</p>
<p>The advantages of coordinate conversion of NexMotion PCS are as follows:</p>
<ul>
<li>Support up to 32 set of base</li>
<li>Have hierarchy setting, up to 3 level</li>
</ul>
<div class="image">
<img src="BaseHierarch1.png" alt="BaseHierarch1.png"/>
</div>
<p>Base having a hierarchical set, as shown above, Base0 is relative to MCS, and Base1 and Base2 are relative to Base0. When Base0 changes, Base1 and Base2 will also change.</p>
<div class="image">
<img src="BaseHierarch2.png" alt="BaseHierarch2.png"/>
</div>
<p>The setting method is to set the <a class="el" href="UserManual.html#GroupParameters">group parameter</a> <code>0xC0</code> to <code>0xDF</code>. Defined as follows:</p>
<table class="doxtable">
<tr>
<th>Param. Num. </th><th align="center">Sub. Index </th><th align="center">Data Type </th><th>Description  </th></tr>
<tr>
<td>0xC0 ~ 0xDF </td><td align="center">0 </td><td align="center">F64_T </td><td>Offset along reference base x-axis </td></tr>
<tr>
<td></td><td align="center">1 </td><td align="center">F64_T </td><td>Offset along reference base y-axis </td></tr>
<tr>
<td></td><td align="center">2 </td><td align="center">F64_T </td><td>Offset along reference base z-axis </td></tr>
<tr>
<td></td><td align="center">3 </td><td align="center">F64_T </td><td>Rotation angle about reference base z-axis </td></tr>
<tr>
<td></td><td align="center">4 </td><td align="center">F64_T </td><td>Rotation angle about reference base y-axis </td></tr>
<tr>
<td></td><td align="center">5 </td><td align="center">F64_T </td><td>Rotation angle about reference PCS x-axis </td></tr>
<tr>
<td></td><td align="center">6 </td><td align="center">I32_T </td><td>Reference base index </td></tr>
</table>
<p>For example: The coordinate origin of the Base (Index = 0) is 10 units of x-axis, 15 units of y-axis, 5 units of Z-axis with respect to the MCS coordinate system and the Base0 coordinate system is rotated 90 degrees with respect to the Z-axis of the MCS.</p>
<div class="image">
<img src="BaseConfigExample.png" alt="BaseConfigExample.png"/>
</div>
<p>Group setting parameters and setting values are as follows:</p>
<table class="doxtable">
<tr>
<th>Num. </th><th>Sub </th><th>Value </th><th>Description  </th></tr>
<tr>
<td>0xC0 </td><td>0 </td><td><b>10</b> </td><td>Offset along reference base x-axis </td></tr>
<tr>
<td></td><td>1 </td><td><b>15</b> </td><td>Offset along reference base y-axis </td></tr>
<tr>
<td></td><td>2 </td><td><b>5</b> </td><td>Offset along reference base z-axis </td></tr>
<tr>
<td></td><td>3 </td><td><b>90</b> </td><td>Rotation angle about reference base z-axis </td></tr>
<tr>
<td></td><td>4 </td><td><b>0</b> </td><td>Rotation angle about reference base y-axis </td></tr>
<tr>
<td></td><td>5 </td><td><b>0</b> </td><td>Rotation angle about reference PCS x-axis </td></tr>
<tr>
<td></td><td>6 </td><td>**-1** </td><td>Reference base index </td></tr>
</table>
<p>If the motion command does not specifically specify the Base index, the system will refer to the <a class="el" href="UserManual.html#GroupParameters">group parameter</a> 0x48:0 setting as the Base used by the current system.</p>
<table class="doxtable">
<tr>
<th>Param. Num. </th><th>Sub Index. </th><th>Data Type </th><th>Description  </th></tr>
<tr>
<td>0x48 </td><td>0 </td><td>I32_T </td><td>Base index selection for motion target </td></tr>
</table>
<h4><a class="anchor" id="BaseCalibration"></a>
1.4.2.7 Base Calibration</h4>
<p>In addition to directly setting parameters, method of automatically calibration the teaching points is provided to set the Base. The automatic calibration methods include:</p><ul>
<li>Base teaching -1p method</li>
<li>Base teaching -2p method</li>
<li>Base teaching -3p method</li>
</ul>
<p>Corresponding APIs setting can refer to 3.4.14 <a class="el" href="group___group___base___calibration.html">Base Calibration Functions</a>. As the name implies, 1p method only needs to teach one point. The 2p method only needs to pay two points. The 3p method needs to teach three points. Among them, the difference between the 2p method and the 1p method is that the base taught by the 2p method has more rotation of the Z-axis, and the 3p method can arbitrarily define the X-Y-Z axis.</p>
<h1><a class="anchor" id="DeviceParameters"></a>
2. Device Parameters</h1>
<h2><a class="anchor" id="SystemParameters"></a>
2.1. System Parameters</h2>
<table class="doxtable">
<tr>
<th align="center">Param. Num. </th><th align="center">Sub. Index </th><th>Data Type </th><th align="left">Description </th><th align="left">Range </th><th>Remark  </th></tr>
<tr>
<td align="center">0x00 </td><td align="center">0 </td><td>I32_T </td><td align="left">Motion cycle time (us). </td><td align="left">1000~4000 microsecond </td><td>(*1)(*3) </td></tr>
<tr>
<td align="center">0x01 </td><td align="center">0 </td><td>I32_T </td><td align="left">Number of activated axis </td><td align="left">0~64 </td><td>(*1) </td></tr>
<tr>
<td align="center">0x02 </td><td align="center">0 </td><td>I32_T </td><td align="left">Number of activated group </td><td align="left">0~64 </td><td>(*1) </td></tr>
</table>
<p>(*1): The parameter is effective after the system is started. During the system starting , the parameter cannot be modified.</p>
<p>(*2): The parameter is effective after the function is enable. The modification in another period cannot be effective immediately.</p>
<p>(*3): The configurable range is depended on the controller</p>
<p>(*4): Read only.</p>
<h2><a class="anchor" id="AxisParameters"></a>
2.2. Axis Parameters</h2>
<table class="doxtable">
<tr>
<th align="center">Param. Num. </th><th align="center">Sub. Index </th><th>Data Type </th><th align="left">Description </th><th align="left">Range </th><th>Remark  </th></tr>
<tr>
<td align="center">0x00 </td><td align="center">0 </td><td>I32_T </td><td align="left">Mechanical pitch (unit/rev) </td><td align="left">1~2147483647 </td><td>(*1) </td></tr>
<tr>
<td align="center">0x01 </td><td align="center">0 </td><td>I32_T </td><td align="left">Mechanical revolution </td><td align="left">1~2147483647 </td><td>(*1) </td></tr>
<tr>
<td align="center">0x02 </td><td align="center">0 </td><td>I32_T </td><td align="left">Motor revolution </td><td align="left">1~2147483647 </td><td>(*1) </td></tr>
<tr>
<td align="center">0x03 </td><td align="center">0 </td><td>I32_T </td><td align="left">Encoder revolution (pulse/rev) </td><td align="left">1~2147483647 </td><td>(*1) </td></tr>
<tr>
<td align="center">0x04 </td><td align="center">0 </td><td>I32_T </td><td align="left">Encoder direction </td><td align="left">0:Not inverse, 1:Inverse </td><td>(*1) </td></tr>
<tr>
<td align="center">0x05 </td><td align="center">0 </td><td>I32_T </td><td align="left">Encoder type </td><td align="left">0:Incremental, 1:Absolute </td><td>(*1) </td></tr>
<tr>
<td align="center">0x06 </td><td align="center">0 </td><td>I32_T </td><td align="left">Enable the encoder </td><td align="left">0:Disable, 1:Enable </td><td>(*1) </td></tr>
</table>
<p>(*1): The parameter is effective after the system is started. During the system starting , the parameter cannot be modified.</p>
<p>(*2): The parameter is effective after the function is enable. The modification in another period cannot be effective immediately.</p>
<p>(*3): The configurable range is depended on the controller</p>
<p>(*4): Read only.</p>
<p>(*5): The configurable range is depended on the controlled device.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000024">Todo:</a></b></dt><dd>Update 2.2 Axis parameters table</dd></dl>
<h2><a class="anchor" id="GroupParameters"></a>
2.3. Group Parameters</h2>
<table class="doxtable">
<tr>
<th>Num. </th><th>Sub </th><th>Type </th><th>Description </th><th>Value Description </th><th>Common  </th></tr>
<tr>
<td>0x00 </td><td>0 </td><td>I32_T </td><td>Kinematics type </td><td>0:Linear (2~8 Axes)<br />
 1:Articulated Robot (AR6)<br />
 2:Delta<br />
 3:SCARA </td><td>(*1) </td></tr>
<tr>
<td>0x00 </td><td>1 </td><td>F64_T </td><td>Kinematics parameter 1~48 </td><td>Refer to kinematics chapter </td><td>(*1) </td></tr>
<tr>
<td>0x36 </td><td>0 </td><td>I32_T </td><td>Buffer Mode </td><td>0:Aborting<br />
 1:Buffered<br />
 2:Blending </td><td></td></tr>
<tr>
<td>0x36 </td><td>1 </td><td>I32_T </td><td>Blending Mode </td><td>0:Corner distance<br />
 1:MaxCorner deviation </td><td></td></tr>
<tr>
<td>0x36 </td><td>2 </td><td>F64_T </td><td>Blending corner distance </td><td>pos unit, Value 0 to 2147483647 </td><td></td></tr>
<tr>
<td>0x36 </td><td>3 </td><td>F64_T </td><td>Blending corner deviation </td><td>pos unit, Value 0 to 2147483647 </td><td></td></tr>
<tr>
<td>0x48 </td><td>0 </td><td>I32_T </td><td>Base index selection for motion target </td><td>value = -1 :No base assignment (MCS)<br />
 value = 0~31: base 0~31 </td><td></td></tr>
<tr>
<td>0x48 </td><td>1 </td><td>I32_T </td><td>Base index selection for read position </td><td>value = -2 : Parameter disable<br />
 value = -1 :No base assignment<br />
 value = 0~31: base 0~31 </td><td></td></tr>
</table>
<p>(*1): The parameter is effective after the system is started. During the system starting, the parameter cannot be modified and will return error.</p>
<p>(*2): The parameter is effective after the function is enable. The modification in another period cannot be effective immediately.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000025">Todo:</a></b></dt><dd>Update 2.3 Group parameters table</dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
